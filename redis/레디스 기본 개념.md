
### 레디스의 자료구조

#### string

string은 512MB 까지 문자열 데이터를 저장 가능함.
이진 데이터를 포함 모든 종류의 문자열이 바이너리 세이프하게 처리됨.
그렇기 때문에 jpeg, http status code 등 다양한 데이터를 저장이 가능함.

string은 key-value 1:1 로저장 됨.

string이 아닌 자료구조에서는 하나의 키에 여러개의 아이템이 저장 가능함.

```shell
> SET hello world
OK

> GET hello
"world"
```

만약 위에처럼 hello 에 world를 넣을경우 hello에 다른 값이 있는 경우 새로 입력된 값으로 대체됨.

SET에 NX 옵션을 주면 지정한 키가 없을 때에만 새로운 키를 저장한다.

```shell
> SET hello newval NX
(nil)
```

NX 옵션을 사용했기 때문에 기존에 hello에 world 값이 있기에 저장되지 않는다.

이럴 경우 XX 옵션을 쓰면 키가 있을때 새로운 값으로 덮어 씌우며 새로운 키를 생성하지 않도록 함.

```shell 
> SET hello newval XX
OK

> GET hello
"newval"
```

MSET, MGET 커맨드를 이용해 한번에 여러 키를 조작할 수 있음.

```shell
> MSET a 10 b 20 c 30
OK

> MGET a b c
1) "10"
2) "20"
3) "30"
```

이런 식으로 나옴.